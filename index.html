<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Accidentes SST</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-content"> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRnXv03BkeIZ4fLauBEN4dIqDuCPXW0sIZWLw&s" alt="Logo de la Empresa" class="header-logo">
            <h1>Dashboard de An谩lisis de Accidentes</h1>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#vision-general">Visi贸n General</a></li>
            <li><a href="#gestion-datos">Gesti贸n de Datos</a></li>
            <li><a href="#graficos">Gr谩ficos</a></li>
        </ul>
    </nav>

    <main>
        <section id="vision-general">
            <h2>Visi贸n General y Estad铆sticas Clave </h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total de Accidentes</h3>
                    <p id="totalAccidentes">0</p>
                </div>
                <div class="stat-card">
                    <h3>Accidentes con Mortalidad</h3>
                    <p id="mortalidadAccidentes">0</p>
                </div>
                <div class="stat-card">
                    <h3>Accidentes por G茅nero (Mujer)</h3>
                    <p id="generoFemenino">0</p>
                </div>
                <div class="stat-card">
                    <h3>Accidentes por G茅nero (Hombre)</h3>
                    <p id="generoMasculino">0</p>
                </div>
            </div>
        </section>

        <section id="gestion-datos">
            <h2>Gesti贸n de Datos de Accidentes </h2>
            <button id="abrirModalCrear" class="btn-primary">Registrar Nuevo Accidente</button>

            <div id="modalAccidente" class="modal">
                <div class="modal-content">
                    <span class="close-button">&times;</span>
                    <h3>Registro/Edici贸n de Accidente</h3>
                    <form id="formAccidente">
                        <input type="hidden" id="accidenteId">
                        
                        <label for="fecha">Fecha:</label>
                        <input type="date" id="fecha" required>

                        <label for="nombrePersona">Nombre de la Persona:</label>
                        <input type="text" id="nombrePersona" placeholder="Nombre completo" required>

                        <label for="tipo">Tipo de Accidente:</label>
                        <select id="tipo" required>
                            <option value="">Seleccione un tipo</option>
                            <option value="Colisi贸n">Colisi贸n</option>
                            <option value="Atropello">Atropello</option>
                            <option value="Ca铆da">Ca铆da</option>
                            <option value="Quemadura">Quemadura</option>
                            <option value="Corte">Corte</option>
                            <option value="Electrocuci贸n">Electrocuci贸n</option>
                            <option value="Vuelco">Vuelco</option>
                        </select>

                        <label for="mortalidad">Mortalidad:</label>
                        <select id="mortalidad">
                            <option value="si">S铆</option>
                            <option value="no">No</option>
                        </select>

                        <label for="genero">G茅nero:</label>
                        <select id="genero">
                            <option value="masculino">Masculino</option>
                            <option value="femenino">Femenino</option>
                            <option value="otro">Otro</option>
                        </select>

                        <label for="area">rea:</label>
                        <select id="area" required>
                            <option value="">Seleccione un 谩rea</option>
                            <option value="Sistemas">Sistemas</option>
                            <option value="Calidad">Calidad</option>
                            <option value="Planta">Planta</option>
                            <option value="Facturaci贸n">Facturaci贸n</option>
                            <option value="Contabilidad">Contabilidad</option>
                            <option value="Gerencia">Gerencia</option>
                            <option value="Administraci贸n">Administraci贸n</option>
                            <option value="Ventas">Ventas</option>
                        </select>

                        <label for="parteCuerpo">Parte del Cuerpo Afectada:</label>
                        <input type="text" id="parteCuerpo" placeholder="Ej: Mano derecha, Cabeza" required>

                        <label for="lugarAccidente">D贸nde Ocurri贸 el Accidente:</label>
                        <input type="text" id="lugarAccidente" placeholder="Ej: Almac茅n, Oficina 301" required>

                        <label for="objetoLesion">Con Qu茅 se Lesion贸:</label>
                        <input type="text" id="objetoLesion" placeholder="Ej: M谩quina X, Escalera" required>

                        <label for="descripcion">Descripci贸n del Accidente:</label>
                        <textarea id="descripcion" placeholder="Detalles del accidente..." rows="4" required></textarea>

                        <button type="submit" class="btn-success"> Guardar Accidente</button>
                    </form>
                </div>
            </div>

            <h3>Listado de Accidentes</h3>
            <div class="filter-controls">
                <label for="filterInput">Filtrar tabla:</label>
                <input type="text" id="filterInput" placeholder="Escribe para filtrar...">
                <button id="exportExcelBtn" class="btn-secondary">猬锔 Exportar a Excel</button>
                <button id="exportPdfBtn" class="btn-secondary">猬锔 Exportar a PDF</button>
            </div>

            <table id="tablaAccidentes">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>Persona</th>
                        <th>Tipo</th>
                        <th>Mortalidad</th>
                        <th>G茅nero</th>
                        <th>rea</th>
                        <th>Parte del Cuerpo</th>
                        <th>Lugar</th>
                        <th>Objeto Lesi贸n</th>
                        <th>Descripci贸n</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>

        <section id="graficos">
            <h2>An谩lisis Gr谩fico de Accidentes </h2>
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Mortalidad por Accidente</h3>
                    <canvas id="chartMortalidad"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Accidentes por G茅nero</h3>
                    <canvas id="chartGenero"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Accidentes por rea</h3>
                    <canvas id="chartArea"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Accidentes por Tipo</h3>
                    <canvas id="chartTipo"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Accidentes por Mes/A帽o</h3>
                    <canvas id="chartMesAnio"></canvas>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Dashboard de Accidentes</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    
    <script src="script.js"></script>
</body>
</html>